(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();let u,M,c,a,d,w=[],H,s,l,h,y,N=[],b=!1,R=!1,O="Hello World",m;const K=150,_=2e3,W=20;let f=Array(W).fill(null),S=0;function J(){$();const t=document.getElementById("app");u=new THREE.Scene,u.background=new THREE.Color(2759485),M=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),M.position.z=5,c=new THREE.WebGLRenderer({antialias:!0}),c.setSize(window.innerWidth,window.innerHeight),c.setPixelRatio(window.devicePixelRatio),c.shadowMap.enabled=!0,t.appendChild(c.domElement),ee(),te(),ne(),oe(),I(),window.addEventListener("resize",F),h.addEventListener("click",P),y.addEventListener("click",se),l.addEventListener("keypress",e=>{e.key==="Enter"&&P()}),D()}function $(){const t=document.createElement("div");t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",document.getElementById("app").appendChild(t),s=document.createElement("div"),s.id="text-container",s.style.position="absolute",s.style.fontSize="32px",s.style.textAlign="center",s.style.perspective="1000px",s.style.zIndex="5",s.style.width="100%",s.style.top="40%",s.style.color="white",t.appendChild(s);const e=document.createElement("div");e.style.position="absolute",e.style.bottom="20px",e.style.left="0",e.style.right="0",e.style.display="flex",e.style.justifyContent="center",e.style.gap="10px",e.style.padding="10px",e.style.zIndex="10",e.style.pointerEvents="auto",t.appendChild(e),l=document.createElement("input"),l.type="text",l.placeholder="Type your text here...",l.maxLength=50,l.style.padding="10px",l.style.background="#333",l.style.color="white",l.style.border="1px solid #555",l.style.borderRadius="4px",l.style.fontSize="16px",l.style.width="300px",e.appendChild(l),h=document.createElement("button"),h.textContent="Animate Text",h.style.padding="10px 20px",h.style.background="#444",h.style.color="white",h.style.border="none",h.style.borderRadius="4px",h.style.cursor="pointer",e.appendChild(h),y=document.createElement("button"),y.textContent="Restart",y.style.padding="10px 20px",y.style.background="#444",y.style.color="white",y.style.border="none",y.style.borderRadius="4px",y.style.cursor="pointer",e.appendChild(y)}let T;function ee(){d=new CANNON.World,d.gravity.set(0,-9.82,0),d.broadphase=new CANNON.NaiveBroadphase,d.solver.iterations=20,d.defaultContactMaterial.contactEquationStiffness=1e7,d.defaultContactMaterial.contactEquationRelaxation=4,T=new CANNON.Material("physicsMaterial");const t=new CANNON.ContactMaterial(T,T,{friction:.8,restitution:0});d.addContactMaterial(t);const e=new CANNON.Plane,n=new CANNON.Body({mass:0,material:T,shape:e});n.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2),n.position.set(0,-2,0),d.addBody(n)}function te(){const t=new THREE.AmbientLight(16777215,.5);u.add(t);const e=new THREE.DirectionalLight(16777215,.8);e.position.set(10,10,10),e.castShadow=!0,e.shadow.camera.left=-10,e.shadow.camera.right=10,e.shadow.camera.top=10,e.shadow.camera.bottom=-10,u.add(e)}function ne(){const t=new THREE.PlaneGeometry(20,20),e=new THREE.MeshStandardMaterial({color:2236962,transparent:!0,opacity:.7}),n=new THREE.Mesh(t,e);n.rotation.x=-Math.PI/2,n.position.y=-2,n.receiveShadow=!0,u.add(n)}function oe(){const t=new THREE.BoxGeometry(2,2,2),e=new THREE.TextureLoader;console.log("Loading texture..."),e.load("./textures/lowrezcat.jpg",n=>{console.log("Texture loaded successfully");const o=new THREE.MeshStandardMaterial({map:n,roughness:.7,metalness:.2});a=new THREE.Mesh(t,o),a.castShadow=!0,a.receiveShadow=!0,u.add(a),q()},void 0,n=>{console.error("Error loading texture:",n);const o=new THREE.MeshStandardMaterial({color:16711935,roughness:.7,metalness:.2});a=new THREE.Mesh(t,o),a.castShadow=!0,a.receiveShadow=!0,u.add(a),q()})}function I(){for(;s.firstChild;)s.removeChild(s.firstChild);N=[],b=!1,R=!1;for(let t=0;t<O.length;t++){const e=document.createElement("span");e.style.display="inline-block",e.style.opacity="0",e.style.transform="scale(5)",e.style.transition="opacity 0.8s ease-out, transform 0.8s ease-out",e.textContent=O[t],s.appendChild(e),N.push(e)}N.forEach((t,e)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="scale(1)",e===N.length-1&&setTimeout(()=>{b=!0},_)},e*K)})}function ie(){if(b&&!R){R=!0;const t=[];N.forEach(e=>{const n=e.getBoundingClientRect(),o=n.left+n.width/2-window.innerWidth/2,i=-n.top-n.height/2+window.innerHeight/2;t.push({char:e.textContent,x:o*.01,y:i*.01,width:n.width*.01,height:n.height*.01,element:e})}),w=[],t.forEach((e,n)=>{setTimeout(()=>{e.element.style.display="none",V(e)},n*100)})}}function V(t,e){const n=S;S=(S+1)%W;const o=t.width*3,i=t.height*3,r=.2,p=document.createElement("canvas"),x=p.getContext("2d"),E=128;p.width=E,p.height=E,x.clearRect(0,0,E,E),x.fillStyle="white",x.font="bold 100px Arial",x.textAlign="center",x.textBaseline="middle",x.fillText(t.char,E/2,E/2);const A=new THREE.CanvasTexture(p);A.needsUpdate=!0;const G=new THREE.BoxGeometry(o,i,r),L=new THREE.MeshStandardMaterial({map:A,transparent:!0,emissive:3355443,emissiveMap:A}),v=new THREE.MeshStandardMaterial({color:16777215,emissive:3355443}),k=[v,v,v,v,L,L],C=new THREE.Mesh(G,k);C.castShadow=!0,C.position.set(t.x*3,t.y*3,0),u.add(C);const X=new CANNON.Box(new CANNON.Vec3(o/2,i/2,r/2)),g=new CANNON.Body({mass:1,shape:X,material:d.defaultMaterial,linearDamping:.01,angularDamping:.01});g.position.set(t.x*3,t.y*3,0);const j=(Math.random()-.5)*3,U=Math.random()*2+3,Y=(Math.random()-.5)*2;g.velocity.set(j,U,Y);const Z=new CANNON.Vec3((Math.random()-.5)*15,(Math.random()-.5)*15,(Math.random()-.5)*15);g.angularVelocity.copy(Z),d.addBody(g),w.push({mesh:C,body:g,slot:n}),f[n]&&clearTimeout(f[n]),f[n]=setTimeout(()=>{u.remove(C),d.remove(g);const B=w.findIndex(Q=>Q.slot===n);B!==-1&&w.splice(B,1),f[n]=null},1e4)}function ae(t){const e=document.createElement("span");e.style.display="inline-block",e.style.opacity="0",e.style.transform="scale(5)",e.style.transition="opacity 0.8s ease-out, transform 0.8s ease-out",e.textContent=t,s.appendChild(e),setTimeout(()=>{e.style.opacity="1",e.style.transform="scale(1)",setTimeout(()=>{const n=e.getBoundingClientRect(),o=n.left+n.width/2-window.innerWidth/2,i=-n.top-n.height/2+window.innerHeight/2;e.style.display="none",V({char:t,x:o*.01,y:i*.01,width:n.width*.01,height:n.height*.01,element:e}),setTimeout(()=>{s.removeChild(e)},100)},800)},50)}function P(){const t=l.value.trim();if(t){const e=n=>{n<t.length&&(ae(t[n]),setTimeout(()=>e(n+1),150))};e(0),l.value=""}}function D(){H=requestAnimationFrame(D),b&&!R&&ie();const t=performance.now(),e=t-(z||t);z=t;const n=1/60;if(d.step(n,e/1e3,3),w.forEach(o=>{o.mesh.position.copy(o.body.position),o.mesh.quaternion.copy(o.body.quaternion);const i=o.body.velocity.length(),r=o.body.position.distanceTo(new CANNON.Vec3(0,0,0));if(i<.3&&i>.05&&r<2.5){const p=new CANNON.Vec3((Math.random()-.5)*.05,(Math.random()-.5)*.05,(Math.random()-.5)*.05);o.body.applyImpulse(p,o.body.position)}}),a&&m){a.rotation.x+=.01,a.rotation.y+=.01;const o=new CANNON.Quaternion;o.setFromEuler(a.rotation.x,a.rotation.y,a.rotation.z,"XYZ"),m.quaternion.copy(o)}c.render(u,M)}let z=null;function q(){m&&d.remove(m);const t=new CANNON.Box(new CANNON.Vec3(1,1,1));m=new CANNON.Body({mass:0,material:T,shape:t}),m.position.copy(a.position);const e=new CANNON.Quaternion;e.setFromEuler(a.rotation.x,a.rotation.y,a.rotation.z,"XYZ"),m.quaternion.copy(e),d.addBody(m)}function F(){M.aspect=window.innerWidth/window.innerHeight,M.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}function se(){w.forEach(t=>{u.remove(t.mesh),d.remove(t.body)}),w=[],f.forEach((t,e)=>{t&&(clearTimeout(t),f[e]=null)}),O="Hello World",I()}function re(){H&&cancelAnimationFrame(H),window.removeEventListener("resize",F),c&&c.domElement&&c.domElement.parentNode&&c.domElement.parentNode.removeChild(c.domElement),f.forEach((t,e)=>{t&&(clearTimeout(t),f[e]=null)})}document.addEventListener("DOMContentLoaded",J);window.addEventListener("unload",re);
