(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();let c,v,d,l,p,f=[],H,i,r,u,h,C=[],T=!1,b=!1,S="Hello World";const X=150,K=2e3,O=20;let y=Array(O).fill(null),R=0;function Y(){Z();const t=document.getElementById("app");c=new THREE.Scene,c.background=new THREE.Color(2759485),v=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),v.position.z=5,d=new THREE.WebGLRenderer({antialias:!0}),d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(window.devicePixelRatio),d.shadowMap.enabled=!0,t.appendChild(d.domElement),_(),J(),Q(),$(),P(),window.addEventListener("resize",I),u.addEventListener("click",B),h.addEventListener("click",ne),r.addEventListener("keypress",e=>{e.key==="Enter"&&B()}),W()}function Z(){const t=document.createElement("div");t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",document.getElementById("app").appendChild(t),i=document.createElement("div"),i.id="text-container",i.style.position="absolute",i.style.fontSize="32px",i.style.textAlign="center",i.style.perspective="1000px",i.style.zIndex="5",i.style.width="100%",i.style.top="40%",i.style.color="white",t.appendChild(i);const e=document.createElement("div");e.style.position="absolute",e.style.bottom="20px",e.style.left="0",e.style.right="0",e.style.display="flex",e.style.justifyContent="center",e.style.gap="10px",e.style.padding="10px",e.style.zIndex="10",e.style.pointerEvents="auto",t.appendChild(e),r=document.createElement("input"),r.type="text",r.placeholder="Type your text here...",r.maxLength=50,r.style.padding="10px",r.style.background="#333",r.style.color="white",r.style.border="1px solid #555",r.style.borderRadius="4px",r.style.fontSize="16px",r.style.width="300px",e.appendChild(r),u=document.createElement("button"),u.textContent="Animate Text",u.style.padding="10px 20px",u.style.background="#444",u.style.color="white",u.style.border="none",u.style.borderRadius="4px",u.style.cursor="pointer",e.appendChild(u),h=document.createElement("button"),h.textContent="Restart",h.style.padding="10px 20px",h.style.background="#444",h.style.color="white",h.style.border="none",h.style.borderRadius="4px",h.style.cursor="pointer",e.appendChild(h)}function _(){p=new CANNON.World,p.gravity.set(0,-9.82,0),p.broadphase=new CANNON.NaiveBroadphase,p.solver.iterations=10;const t=new CANNON.Plane,e=new CANNON.Body({mass:0,shape:t});e.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2),e.position.set(0,-2,0),p.addBody(e);const n=new CANNON.Box(new CANNON.Vec3(1,1,1)),s=new CANNON.Body({mass:0,shape:n});s.position.set(0,0,0),p.addBody(s)}function J(){const t=new THREE.AmbientLight(16777215,.5);c.add(t);const e=new THREE.DirectionalLight(16777215,.8);e.position.set(10,10,10),e.castShadow=!0,e.shadow.camera.left=-10,e.shadow.camera.right=10,e.shadow.camera.top=10,e.shadow.camera.bottom=-10,c.add(e)}function Q(){const t=new THREE.PlaneGeometry(20,20),e=new THREE.MeshStandardMaterial({color:2236962,transparent:!0,opacity:.7}),n=new THREE.Mesh(t,e);n.rotation.x=-Math.PI/2,n.position.y=-2,n.receiveShadow=!0,c.add(n)}function $(){const t=new THREE.BoxGeometry(2,2,2),e=new THREE.TextureLoader;console.log("Loading texture..."),e.load("./textures/lowrezcat.jpg",n=>{console.log("Texture loaded successfully");const s=new THREE.MeshStandardMaterial({map:n,roughness:.7,metalness:.2});l=new THREE.Mesh(t,s),l.castShadow=!0,l.receiveShadow=!0,c.add(l)},void 0,n=>{console.error("Error loading texture:",n);const s=new THREE.MeshStandardMaterial({color:16711935,roughness:.7,metalness:.2});l=new THREE.Mesh(t,s),l.castShadow=!0,l.receiveShadow=!0,c.add(l)})}function P(){for(;i.firstChild;)i.removeChild(i.firstChild);C=[],T=!1,b=!1;for(let t=0;t<S.length;t++){const e=document.createElement("span");e.style.display="inline-block",e.style.opacity="0",e.style.transform="scale(5)",e.style.transition="opacity 0.8s ease-out, transform 0.8s ease-out",e.textContent=S[t],i.appendChild(e),C.push(e)}C.forEach((t,e)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="scale(1)",e===C.length-1&&setTimeout(()=>{T=!0},K)},e*X)})}function ee(){if(T&&!b){b=!0;const t=[];C.forEach(e=>{const n=e.getBoundingClientRect(),s=n.left+n.width/2-window.innerWidth/2,o=-n.top-n.height/2+window.innerHeight/2;t.push({char:e.textContent,x:s*.01,y:o*.01,width:n.width*.01,height:n.height*.01,element:e})}),f=[],t.forEach((e,n)=>{setTimeout(()=>{e.element.style.display="none",z(e)},n*100)})}}function z(t,e){const n=R;R=(R+1)%O;const s=t.width*3,o=t.height*3,a=.2,m=document.createElement("canvas"),w=m.getContext("2d"),x=128;m.width=x,m.height=x,w.clearRect(0,0,x,x),w.fillStyle="white",w.font="bold 100px Arial",w.textAlign="center",w.textBaseline="middle",w.fillText(t.char,x/2,x/2);const M=new THREE.CanvasTexture(m);M.needsUpdate=!0;const G=new THREE.BoxGeometry(s,o,a),A=new THREE.MeshStandardMaterial({map:M,transparent:!0,emissive:3355443,emissiveMap:M}),N=new THREE.MeshStandardMaterial({color:16777215,emissive:3355443}),V=[N,N,N,N,A,A],g=new THREE.Mesh(G,V);g.castShadow=!0,g.position.set(t.x*3,t.y*3,0),c.add(g);const k=new CANNON.Box(new CANNON.Vec3(s/2,o/2,a/2)),E=new CANNON.Body({mass:1,shape:k});E.position.set(t.x*3,t.y*3,0);const q=(Math.random()-.5)*3,D=Math.random()*2+3,F=(Math.random()-.5)*2;E.velocity.set(q,D,F);const j=new CANNON.Vec3((Math.random()-.5)*15,(Math.random()-.5)*15,(Math.random()-.5)*15);E.angularVelocity.copy(j),p.addBody(E),f.push({mesh:g,body:E,slot:n}),y[n]&&clearTimeout(y[n]),y[n]=setTimeout(()=>{c.remove(g),p.remove(E);const L=f.findIndex(U=>U.slot===n);L!==-1&&f.splice(L,1),y[n]=null},1e4)}function te(t){const e=document.createElement("span");e.style.display="inline-block",e.style.opacity="0",e.style.transform="scale(5)",e.style.transition="opacity 0.8s ease-out, transform 0.8s ease-out",e.textContent=t,i.appendChild(e),setTimeout(()=>{e.style.opacity="1",e.style.transform="scale(1)",setTimeout(()=>{const n=e.getBoundingClientRect(),s=n.left+n.width/2-window.innerWidth/2,o=-n.top-n.height/2+window.innerHeight/2;e.style.display="none",z({char:t,x:s*.01,y:o*.01,width:n.width*.01,height:n.height*.01,element:e}),setTimeout(()=>{i.removeChild(e)},100)},800)},50)}function B(){const t=r.value.trim();if(t){const e=n=>{n<t.length&&(te(t[n]),setTimeout(()=>e(n+1),150))};e(0),r.value=""}}function W(){H=requestAnimationFrame(W),T&&!b&&ee(),p.step(1/60),f.forEach(t=>{t.mesh.position.copy(t.body.position),t.mesh.quaternion.copy(t.body.quaternion)}),l&&(l.rotation.x+=.01,l.rotation.y+=.01),d.render(c,v)}function I(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}function ne(){f.forEach(t=>{c.remove(t.mesh),p.remove(t.body)}),f=[],y.forEach((t,e)=>{t&&(clearTimeout(t),y[e]=null)}),S="Hello World",P()}function oe(){H&&cancelAnimationFrame(H),window.removeEventListener("resize",I),d&&d.domElement&&d.domElement.parentNode&&d.domElement.parentNode.removeChild(d.domElement),y.forEach((t,e)=>{t&&(clearTimeout(t),y[e]=null)})}document.addEventListener("DOMContentLoaded",Y);window.addEventListener("unload",oe);
